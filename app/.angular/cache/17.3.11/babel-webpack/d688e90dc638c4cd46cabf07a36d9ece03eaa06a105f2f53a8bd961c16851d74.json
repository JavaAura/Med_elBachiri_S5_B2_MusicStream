{"ast":null,"code":"import _asyncToGenerator from \"/home/exshy/Documents/GitHub/Briefs/Angular/MusicStream/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport * as TrackActions from '../../../core/store/track/track.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = a0 => [a0];\nfunction AddTrackDialogComponent_div_0_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \" Click to select cover image \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddTrackDialogComponent_div_0_img_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 31);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r1.imagePreview, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AddTrackDialogComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"h2\", 5);\n    i0.ɵɵtext(3, \"Add Track\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"form\", 7);\n    i0.ɵɵlistener(\"ngSubmit\", function AddTrackDialogComponent_div_0_Template_form_ngSubmit_6_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSubmit());\n    });\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"label\", 9);\n    i0.ɵɵtext(9, \"Cover Image\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function AddTrackDialogComponent_div_0_Template_div_click_10_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const imageInput_r3 = i0.ɵɵreference(12);\n      return i0.ɵɵresetView(imageInput_r3.click());\n    });\n    i0.ɵɵelementStart(11, \"input\", 11, 0);\n    i0.ɵɵlistener(\"change\", function AddTrackDialogComponent_div_0_Template_input_change_11_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onImageSelected($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, AddTrackDialogComponent_div_0_div_13_Template, 2, 0, \"div\", 12)(14, AddTrackDialogComponent_div_0_img_14_Template, 1, 1, \"img\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 8)(16, \"label\", 9);\n    i0.ɵɵtext(17, \"Audio File\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 14);\n    i0.ɵɵlistener(\"click\", function AddTrackDialogComponent_div_0_Template_div_click_18_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const fileInput_r4 = i0.ɵɵreference(20);\n      return i0.ɵɵresetView(fileInput_r4.click());\n    });\n    i0.ɵɵelementStart(19, \"input\", 15, 1);\n    i0.ɵɵlistener(\"change\", function AddTrackDialogComponent_div_0_Template_input_change_19_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onFileSelected($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 16);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 8)(24, \"label\", 9);\n    i0.ɵɵtext(25, \"Track Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"input\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 8)(28, \"label\", 9);\n    i0.ɵɵtext(29, \"Artist Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(30, \"input\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 8)(32, \"label\", 9);\n    i0.ɵɵtext(33, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"select\", 19)(35, \"option\", 20);\n    i0.ɵɵtext(36, \"Select a category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"option\", 21);\n    i0.ɵɵtext(38, \"Pop\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"option\", 22);\n    i0.ɵɵtext(40, \"Rock\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"option\", 23);\n    i0.ɵɵtext(42, \"Rap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"option\", 23);\n    i0.ɵɵtext(44, \"Rai\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"option\", 24);\n    i0.ɵɵtext(46, \"Cha3bi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"option\", 25);\n    i0.ɵɵtext(48, \"Autre\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(49, \"div\", 26)(50, \"label\", 9);\n    i0.ɵɵtext(51, \"Description (optional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(52, \"textarea\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\", 28)(54, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function AddTrackDialogComponent_div_0_Template_button_click_54_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.close());\n    });\n    i0.ɵɵtext(55, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"button\", 30);\n    i0.ɵɵtext(57, \" Add \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpureFunction1(10, _c0, ctx_r1.error));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.trackForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"border-primary\", ctx_r1.selectedImage);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.selectedImage);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.imagePreview);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"border-primary\", ctx_r1.selectedFile);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedFile ? ctx_r1.selectedFile.name : \"Click to select an audio file\", \" \");\n    i0.ɵɵadvance(34);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.trackForm.valid || !ctx_r1.selectedFile);\n  }\n}\nexport class AddTrackDialogComponent {\n  constructor(fb, store) {\n    this.fb = fb;\n    this.store = store;\n    this.closed = new EventEmitter();\n    this.isOpen = false;\n    this.selectedFile = null;\n    this.selectedImage = null;\n    this.imagePreview = null;\n    this.error = null;\n    this.trackForm = this.fb.group({\n      title: ['', [Validators.required, Validators.maxLength(50)]],\n      artist: ['', [Validators.required]],\n      category: ['', [Validators.required]],\n      description: ['', [Validators.maxLength(200)]]\n    });\n  }\n  onImageSelected(event) {\n    const input = event.target;\n    if (input.files?.length) {\n      const file = input.files[0];\n      if (file.type.startsWith('image/')) {\n        this.selectedImage = file;\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.imagePreview = reader.result;\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n  }\n  onFileSelected(event) {\n    const input = event.target;\n    if (input.files?.length) {\n      const file = input.files[0];\n      if (file.type.startsWith('audio/')) {\n        this.selectedFile = file;\n        this.error = null;\n      } else {\n        this.error = 'Please select a valid audio file';\n        console.error('Invalid file type:', file.type);\n      }\n    }\n  }\n  open() {\n    this.isOpen = true;\n  }\n  close() {\n    this.isOpen = false;\n    this.trackForm.reset();\n    this.selectedFile = null;\n    this.closed.emit();\n  }\n  onSubmit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.trackForm.valid && _this.selectedFile) {\n        try {\n          const trackData = {\n            ..._this.trackForm.value,\n            coverImage: _this.imagePreview\n          };\n          _this.store.dispatch(TrackActions.addTrack({\n            track: trackData,\n            audioFile: _this.selectedFile\n          }));\n          _this.close();\n        } catch (error) {\n          console.error('Error submitting track:', error);\n          _this.error = error instanceof Error ? error.message : 'An unknown error occurred';\n        }\n      } else {\n        _this.error = 'Please fill in all required fields and select an audio file';\n        console.error('Form validation failed:', {\n          formErrors: _this.trackForm.errors,\n          formValue: _this.trackForm.value,\n          hasFile: !!_this.selectedFile\n        });\n      }\n    })();\n  }\n  static {\n    this.ɵfac = function AddTrackDialogComponent_Factory(t) {\n      return new (t || AddTrackDialogComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Store));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddTrackDialogComponent,\n      selectors: [[\"app-add-track-dialog\"]],\n      outputs: {\n        closed: \"closed\"\n      },\n      decls: 1,\n      vars: 1,\n      consts: [[\"imageInput\", \"\"], [\"fileInput\", \"\"], [\"class\", \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", 4, \"ngIf\"], [1, \"fixed\", \"inset-0\", \"bg-black\", \"bg-opacity-50\", \"flex\", \"items-center\", \"justify-center\", \"z-50\"], [1, \"bg-surface\", \"p-6\", \"rounded-lg\", \"w-full\", \"max-w-md\", \"mx-4\"], [1, \"text-xl\", \"font-bold\", \"mb-4\"], [1, \"text-sm\", \"text-red-500\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"mb-4\"], [1, \"block\", \"text-sm\", \"font-medium\", \"mb-2\"], [1, \"border-2\", \"border-dashed\", \"border-gray-600\", \"rounded-lg\", \"p-4\", \"text-center\", \"cursor-pointer\", \"hover:border-primary\", \"transition-colors\", 3, \"click\"], [\"type\", \"file\", \"accept\", \"image/*\", 1, \"hidden\", 3, \"change\"], [\"class\", \"text-gray-400\", 4, \"ngIf\"], [\"class\", \"w-32 h-32 mx-auto object-cover rounded\", \"alt\", \"Cover preview\", 3, \"src\", 4, \"ngIf\"], [1, \"border-2\", \"border-dashed\", \"border-gray-600\", \"rounded-lg\", \"p-8\", \"text-center\", \"cursor-pointer\", \"hover:border-primary\", \"transition-colors\", 3, \"click\"], [\"type\", \"file\", \"accept\", \".mp3,.wav,.ogg\", 1, \"hidden\", 3, \"change\"], [1, \"text-gray-400\"], [\"type\", \"text\", \"formControlName\", \"title\", \"placeholder\", \"Track Title\", 1, \"w-full\", \"p-2\", \"rounded\", \"bg-gray-800\", \"border\", \"border-gray-700\", \"focus:border-primary\", \"focus:outline-none\"], [\"type\", \"text\", \"formControlName\", \"artist\", \"placeholder\", \"Artist Name\", 1, \"w-full\", \"p-2\", \"rounded\", \"bg-gray-800\", \"border\", \"border-gray-700\", \"focus:border-primary\", \"focus:outline-none\"], [\"formControlName\", \"category\", 1, \"w-full\", \"p-2\", \"rounded\", \"bg-gray-800\", \"border\", \"border-gray-700\", \"focus:border-primary\", \"focus:outline-none\"], [\"value\", \"\"], [\"value\", \"pop\"], [\"value\", \"rock\"], [\"value\", \"rap\"], [\"value\", \"cha3bi\"], [\"value\", \"other\"], [1, \"mb-6\"], [\"formControlName\", \"description\", \"rows\", \"3\", \"placeholder\", \"Description of the track\", 1, \"w-full\", \"p-2\", \"rounded\", \"bg-gray-800\", \"border\", \"border-gray-700\", \"focus:border-primary\", \"focus:outline-none\"], [1, \"flex\", \"justify-end\", \"space-x-3\"], [\"type\", \"button\", 1, \"px-4\", \"py-2\", \"rounded\", \"text-gray-400\", \"hover:text-white\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [\"alt\", \"Cover preview\", 1, \"w-32\", \"h-32\", \"mx-auto\", \"object-cover\", \"rounded\", 3, \"src\"]],\n      template: function AddTrackDialogComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, AddTrackDialogComponent_div_0_Template, 58, 12, \"div\", 2);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.isOpen);\n        }\n      },\n      dependencies: [i3.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","Validators","TrackActions","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵproperty","ctx_r1","imagePreview","ɵɵsanitizeUrl","ɵɵlistener","AddTrackDialogComponent_div_0_Template_form_ngSubmit_6_listener","ɵɵrestoreView","_r1","ɵɵnextContext","ɵɵresetView","onSubmit","AddTrackDialogComponent_div_0_Template_div_click_10_listener","imageInput_r3","ɵɵreference","click","AddTrackDialogComponent_div_0_Template_input_change_11_listener","$event","onImageSelected","ɵɵtemplate","AddTrackDialogComponent_div_0_div_13_Template","AddTrackDialogComponent_div_0_img_14_Template","AddTrackDialogComponent_div_0_Template_div_click_18_listener","fileInput_r4","AddTrackDialogComponent_div_0_Template_input_change_19_listener","onFileSelected","AddTrackDialogComponent_div_0_Template_button_click_54_listener","close","ɵɵadvance","ɵɵtextInterpolate","ɵɵpureFunction1","_c0","error","trackForm","ɵɵclassProp","selectedImage","selectedFile","ɵɵtextInterpolate1","name","valid","AddTrackDialogComponent","constructor","fb","store","closed","isOpen","group","title","required","maxLength","artist","category","description","event","input","target","files","length","file","type","startsWith","reader","FileReader","onload","result","readAsDataURL","console","open","reset","emit","_this","_asyncToGenerator","trackData","value","coverImage","dispatch","addTrack","track","audioFile","Error","message","formErrors","errors","formValue","hasFile","ɵɵdirectiveInject","i1","FormBuilder","i2","Store","selectors","outputs","decls","vars","consts","template","AddTrackDialogComponent_Template","rf","ctx","AddTrackDialogComponent_div_0_Template"],"sources":["/home/exshy/Documents/GitHub/Briefs/Angular/MusicStream/app/src/app/shared/components/add-track-dialog/add-track-dialog.component.ts","/home/exshy/Documents/GitHub/Briefs/Angular/MusicStream/app/src/app/shared/components/add-track-dialog/add-track-dialog.component.html"],"sourcesContent":["import { Component, EventEmitter, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { TrackService } from '../../../core/services/track.service';\nimport { Store } from '@ngrx/store';\nimport * as TrackActions from '../../../core/store/track/track.actions';\n\n@Component({\n  selector: 'app-add-track-dialog',\n  standalone: false,\n  templateUrl: 'add-track-dialog.component.html'\n})\nexport class AddTrackDialogComponent {\n  @Output() closed = new EventEmitter<void>();\n  isOpen = false;\n  trackForm: FormGroup;\n  selectedFile: File | null = null;\n  selectedImage: File | null = null;\n  imagePreview: string | null = null;\n  error: string | null = null;\n\n  constructor(\n    private fb: FormBuilder,\n    private store: Store\n  ) {\n    this.trackForm = this.fb.group({\n      title: ['', [Validators.required, Validators.maxLength(50)]],\n      artist: ['', [Validators.required]],\n      category: ['', [Validators.required]],\n      description: ['', [Validators.maxLength(200)]]\n    });\n  }\n\n  onImageSelected(event: Event) {\n    const input = event.target as HTMLInputElement;\n    if (input.files?.length) {\n      const file = input.files[0];\n      if (file.type.startsWith('image/')) {\n        this.selectedImage = file;\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.imagePreview = reader.result as string;\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n  }\n\n  onFileSelected(event: Event) {\n    const input = event.target as HTMLInputElement;\n    if (input.files?.length) {\n      const file = input.files[0];\n      if (file.type.startsWith('audio/')) {\n        this.selectedFile = file;\n        this.error = null;\n      } else {\n        this.error = 'Please select a valid audio file';\n        console.error('Invalid file type:', file.type);\n      }\n    }\n  }\n\n  open() {\n    this.isOpen = true;\n  }\n\n  close() {\n    this.isOpen = false;\n    this.trackForm.reset();\n    this.selectedFile = null;\n    this.closed.emit();\n  }\n\n  async onSubmit() {\n    if (this.trackForm.valid && this.selectedFile) {\n      try {\n        const trackData = {\n          ...this.trackForm.value,\n          coverImage: this.imagePreview\n        };\n\n        this.store.dispatch(TrackActions.addTrack({ \n          track: trackData, \n          audioFile: this.selectedFile \n        }));\n        \n        this.close();\n      } catch (error) {\n        console.error('Error submitting track:', error);\n        this.error = error instanceof Error ? error.message : 'An unknown error occurred';\n      }\n    } else {\n      this.error = 'Please fill in all required fields and select an audio file';\n      console.error('Form validation failed:', {\n        formErrors: this.trackForm.errors,\n        formValue: this.trackForm.value,\n        hasFile: !!this.selectedFile\n      });\n    }\n  }\n} ","\n<div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\" *ngIf=\"isOpen\">\n  <div class=\"bg-surface p-6 rounded-lg w-full max-w-md mx-4\">\n    <h2 class=\"text-xl font-bold mb-4\">Add Track</h2>\n\n    <p class=\"text-sm text-red-500\">{{ [error] }}</p>\n    \n    <form [formGroup]=\"trackForm\" (ngSubmit)=\"onSubmit()\">\n      <!-- Cover Image Upload -->\n      <div class=\"mb-4\">\n        <label class=\"block text-sm font-medium mb-2\">Cover Image</label>\n        <div \n          class=\"border-2 border-dashed border-gray-600 rounded-lg p-4 text-center cursor-pointer hover:border-primary transition-colors\"\n          (click)=\"imageInput.click()\"\n          [class.border-primary]=\"selectedImage\"\n        >\n          <input\n            #imageInput\n            type=\"file\"\n            class=\"hidden\"\n            accept=\"image/*\"\n            (change)=\"onImageSelected($event)\"\n          >\n          <div *ngIf=\"!selectedImage\" class=\"text-gray-400\">\n            Click to select cover image\n          </div>\n          <img \n            *ngIf=\"imagePreview\" \n            [src]=\"imagePreview\" \n            class=\"w-32 h-32 mx-auto object-cover rounded\"\n            alt=\"Cover preview\"\n          >\n        </div>\n      </div>\n\n      <!-- Audio File Upload -->\n      <div class=\"mb-4\">\n        <label class=\"block text-sm font-medium mb-2\">Audio File</label>\n        <div \n          class=\"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors\"\n          (click)=\"fileInput.click()\"\n          [class.border-primary]=\"selectedFile\">\n          <input\n            #fileInput\n            type=\"file\"\n            class=\"hidden\"\n            accept=\".mp3,.wav,.ogg\"\n            (change)=\"onFileSelected($event)\"\n          >\n          <div class=\"text-gray-400\">\n            {{ selectedFile ? selectedFile.name : 'Click to select an audio file' }}\n          </div>\n        </div>\n      </div>\n\n      <!-- Title -->\n      <div class=\"mb-4\">\n        <label class=\"block text-sm font-medium mb-2\">Track Title</label>\n        <input\n          type=\"text\"\n          formControlName=\"title\"\n          class=\"w-full p-2 rounded bg-gray-800 border border-gray-700 focus:border-primary focus:outline-none\"\n          placeholder=\"Track Title\"\n        >\n      </div>\n\n      <!-- Artist -->\n      <div class=\"mb-4\">\n        <label class=\"block text-sm font-medium mb-2\">Artist Name</label>\n        <input\n          type=\"text\"\n          formControlName=\"artist\"\n          class=\"w-full p-2 rounded bg-gray-800 border border-gray-700 focus:border-primary focus:outline-none\"\n          placeholder=\"Artist Name\"\n        >\n      </div>\n\n      <!-- Category -->\n      <div class=\"mb-4\">\n        <label class=\"block text-sm font-medium mb-2\">Category</label>\n        <select\n          formControlName=\"category\"\n          class=\"w-full p-2 rounded bg-gray-800 border border-gray-700 focus:border-primary focus:outline-none\"\n        >\n          <option value=\"\">Select a category</option>\n          <option value=\"pop\">Pop</option>\n          <option value=\"rock\">Rock</option>\n          <option value=\"rap\">Rap</option>\n          <option value=\"rap\">Rai</option>\n          <option value=\"cha3bi\">Cha3bi</option>\n          <option value=\"other\">Autre</option>\n        </select>\n      </div>\n\n      <!-- Description -->\n      <div class=\"mb-6\">\n        <label class=\"block text-sm font-medium mb-2\">Description (optional)</label>\n        <textarea\n          formControlName=\"description\"\n          class=\"w-full p-2 rounded bg-gray-800 border border-gray-700 focus:border-primary focus:outline-none\"\n          rows=\"3\"\n          placeholder=\"Description of the track\"\n        ></textarea>\n      </div>\n\n      <!-- Buttons -->\n      <div class=\"flex justify-end space-x-3\">\n        <button\n          type=\"button\"\n          class=\"px-4 py-2 rounded text-gray-400 hover:text-white\"\n          (click)=\"close()\"\n        >\n          Cancel\n        </button>\n        <button\n          type=\"submit\"\n          class=\"btn-primary\"\n          [disabled]=\"!trackForm.valid || !selectedFile\"\n        >\n          Add\n        </button>\n      </div>\n    </form>\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}