{"ast":null,"code":"import * as TrackActions from '../../../../core/store/track/track.actions';\nimport * as fromTrack from '../../../../core/store/track/track.selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../../shared/components/add-track-button/add-track-button.component\";\nfunction LibraryComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"p\", 7);\n    i0.ɵɵtext(2, \"No tracks added yet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function LibraryComponent_div_4_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openAddTrackDialog());\n    });\n    i0.ɵɵtext(4, \" Add Track \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LibraryComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵlistener(\"click\", function LibraryComponent_div_6_Template_div_click_0_listener() {\n      const track_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.playTrack(track_r4));\n    });\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelement(2, \"img\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const track_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", track_r4.coverImage || \"assets/images/placeholder.png\", i0.ɵɵsanitizeUrl)(\"alt\", track_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(track_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(track_r4.artist);\n  }\n}\nexport class LibraryComponent {\n  constructor(store) {\n    this.store = store;\n    this.tracks$ = this.store.select(fromTrack.selectAllTracks);\n    this.loading$ = this.store.select(fromTrack.selectLoading);\n  }\n  ngOnInit() {\n    this.store.dispatch(TrackActions.loadTracks());\n  }\n  onSearch(event) {\n    const searchTerm = event.target.value;\n    // TODO: Implement search functionality\n  }\n  playTrack(track) {\n    this.store.dispatch(TrackActions.playTrack({\n      track\n    }));\n  }\n  openAddTrackDialog() {\n    // This is handled by the AddTrackButton component\n  }\n  static {\n    this.ɵfac = function LibraryComponent_Factory(t) {\n      return new (t || LibraryComponent)(i0.ɵɵdirectiveInject(i1.Store));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LibraryComponent,\n      selectors: [[\"app-library\"]],\n      decls: 9,\n      vars: 6,\n      consts: [[1, \"container\", \"mx-auto\", \"p-4\"], [1, \"mb-6\"], [\"type\", \"text\", \"placeholder\", \"Search tracks...\", 1, \"w-full\", \"p-3\", \"rounded-lg\", \"bg-surface\", \"text-text\", \"border\", \"border-gray-700\", \"focus:outline-none\", \"focus:border-primary\", 3, \"input\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-3\", \"xl:grid-cols-4\", \"gap-4\"], [\"class\", \"col-span-full text-center py-10\", 4, \"ngIf\"], [\"class\", \"bg-surface p-4 rounded-lg hover:bg-opacity-80 transition-colors cursor-pointer\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-span-full\", \"text-center\", \"py-10\"], [1, \"text-gray-400\", \"mb-4\"], [1, \"btn-primary\", 3, \"click\"], [1, \"bg-surface\", \"p-4\", \"rounded-lg\", \"hover:bg-opacity-80\", \"transition-colors\", \"cursor-pointer\", 3, \"click\"], [1, \"aspect-square\", \"bg-gray-700\", \"rounded-lg\", \"mb-3\"], [1, \"w-full\", \"h-full\", \"object-cover\", \"rounded-lg\", 3, \"src\", \"alt\"], [1, \"font-semibold\", \"truncate\"], [1, \"text-sm\", \"text-gray-400\", \"truncate\"]],\n      template: function LibraryComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"input\", 2);\n          i0.ɵɵlistener(\"input\", function LibraryComponent_Template_input_input_2_listener($event) {\n            return ctx.onSearch($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(3, \"div\", 3);\n          i0.ɵɵtemplate(4, LibraryComponent_div_4_Template, 5, 0, \"div\", 4);\n          i0.ɵɵpipe(5, \"async\");\n          i0.ɵɵtemplate(6, LibraryComponent_div_6_Template, 7, 4, \"div\", 5);\n          i0.ɵɵpipe(7, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(8, \"app-add-track-button\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          let tmp_0_0;\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_0_0 = i0.ɵɵpipeBind1(5, 2, ctx.tracks$)) == null ? null : tmp_0_0.length) === 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(7, 4, ctx.tracks$));\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.AddTrackButtonComponent, i2.AsyncPipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["TrackActions","fromTrack","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LibraryComponent_div_4_Template_button_click_3_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","openAddTrackDialog","LibraryComponent_div_6_Template_div_click_0_listener","track_r4","_r3","$implicit","playTrack","ɵɵelement","ɵɵadvance","ɵɵproperty","coverImage","ɵɵsanitizeUrl","title","ɵɵtextInterpolate","artist","LibraryComponent","constructor","store","tracks$","select","selectAllTracks","loading$","selectLoading","ngOnInit","dispatch","loadTracks","onSearch","event","searchTerm","target","value","track","ɵɵdirectiveInject","i1","Store","selectors","decls","vars","consts","template","LibraryComponent_Template","rf","ctx","LibraryComponent_Template_input_input_2_listener","$event","ɵɵtemplate","LibraryComponent_div_4_Template","LibraryComponent_div_6_Template","tmp_0_0","ɵɵpipeBind1","length"],"sources":["/home/exshy/Documents/GitHub/Briefs/Angular/MusicStream/cursor_app/src/app/features/library/pages/library/library.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Observable } from 'rxjs';\nimport { Track } from '../../../../core/models/track.model';\nimport * as TrackActions from '../../../../core/store/track/track.actions';\nimport * as fromTrack from '../../../../core/store/track/track.selectors';\n\n@Component({\n  selector: 'app-library',\n  template: `\n    <div class=\"container mx-auto p-4\">\n      <!-- Search Bar -->\n      <div class=\"mb-6\">\n        <input \n          type=\"text\" \n          placeholder=\"Search tracks...\"\n          class=\"w-full p-3 rounded-lg bg-surface text-text border border-gray-700 focus:outline-none focus:border-primary\"\n          (input)=\"onSearch($event)\"\n        >\n      </div>\n\n      <!-- Tracks Grid -->\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n        <!-- Empty State -->\n        <div *ngIf=\"(tracks$ | async)?.length === 0\" class=\"col-span-full text-center py-10\">\n          <p class=\"text-gray-400 mb-4\">No tracks added yet</p>\n          <button class=\"btn-primary\" (click)=\"openAddTrackDialog()\">\n            Add Track\n          </button>\n        </div>\n\n        <!-- Track Cards -->\n        <div *ngFor=\"let track of tracks$ | async\" \n          class=\"bg-surface p-4 rounded-lg hover:bg-opacity-80 transition-colors cursor-pointer\"\n          (click)=\"playTrack(track)\">\n          <div class=\"aspect-square bg-gray-700 rounded-lg mb-3\">\n            <img \n              [src]=\"track.coverImage || 'assets/images/placeholder.png'\" \n              [alt]=\"track.title\"\n              class=\"w-full h-full object-cover rounded-lg\"\n            >\n          </div>\n          <h3 class=\"font-semibold truncate\">{{ track.title }}</h3>\n          <p class=\"text-sm text-gray-400 truncate\">{{ track.artist }}</p>\n        </div>\n      </div>\n\n      <!-- Add Track Button -->\n      <app-add-track-button></app-add-track-button>\n    </div>\n  `\n})\nexport class LibraryComponent implements OnInit {\n  tracks$: Observable<Track[]>;\n  loading$: Observable<boolean>;\n\n  constructor(private store: Store) {\n    this.tracks$ = this.store.select(fromTrack.selectAllTracks);\n    this.loading$ = this.store.select(fromTrack.selectLoading);\n  }\n\n  ngOnInit() {\n    this.store.dispatch(TrackActions.loadTracks());\n  }\n\n  onSearch(event: Event) {\n    const searchTerm = (event.target as HTMLInputElement).value;\n    // TODO: Implement search functionality\n  }\n\n  playTrack(track: Track) {\n    this.store.dispatch(TrackActions.playTrack({ track }));\n  }\n\n  openAddTrackDialog() {\n    // This is handled by the AddTrackButton component\n  }\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}